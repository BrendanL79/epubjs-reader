<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<!-- TODO: make deform use_ajax widgets delay after jQuery loads -->
		<link rel="stylesheet" href="http://multi-frame.dokku.hypothes.is/assets/lib/jquery-ui-smoothness.css?c93cb50e">
		<link rel="stylesheet" href="http://multi-frame.dokku.hypothes.is/assets/lib/visualsearch.css?ac228da8">
		<link rel="stylesheet" href="http://multi-frame.dokku.hypothes.is/assets/css/sidebar.min.css?4111f20d">
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery-1.10.2.js?91515770"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.mousewheel.js?214ee334"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/angular.js?73509e63"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/angular-bootstrap.js?b2f21609"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/angular-resource.js?7b9c56af"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/angular-sanitize.js?4218b64b"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/gettext.js?946e49b9"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/locale/data.js?8b715a6c"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/annotator.js?0394282e"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/annotator.auth.js?608b2c41"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/plugin/bridge.js?b2d710a4"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/plugin/discovery.js?57cc9d25"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/annotator.permissions.js?237504ca"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/annotator.store.js?5db393aa"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/plugin/threading.js?a95568fc"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/annotator.document.js?f8d2945d"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jschannel.js?6e1577df"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jwz.js?778a18da"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/Markdown.Converter.js?33f02cbe"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/polyfills/raf.js?e9cfa896"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/sockjs-0.3.4.js?1ba7b31b"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.widget.js?bddbabe4"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.autocomplete.js?9979e47b"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.core.js?67e9965f"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.menu.js?d5c1cd9f"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.position.js?fe73e7c3"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.effect.js?77ee3f3a"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.effect-blind.js?607efd93"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.effect-highlight.js?0da42fff"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/jquery.ui.effect-forecolor-highlight.js?7f3011ef"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/tag-it.js?d75aabd1"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/underscore-1.4.3.js?26df1983"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/backbone-0.9.10.js?091e34d6"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/lib/visualsearch.js?ccead602"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/app.js?24cb4b86"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/controllers.js?e4b72276"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/filters.js?cf576359"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/flash.js?f1f50a12"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/directives.js?4eb9b479"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/app_directives.js?9d62961f"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/displayer.js?9e1c1781"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/services.js?2f379321"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/streamer.js?7c3e6ef0"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/streamfilter.js?cf0ffbf5"></script>
		<script type="text/javascript" src="http://multi-frame.dokku.hypothes.is/assets/js/stream.js?fac12623"></script>
		<script type="text/javascript" defer="defer">WebFontConfig = {
	google: {
		families: [
			'Merriweather',
			'Source+Sans+Pro:400,600:latin'
		]
	}
};
(function() {
	var wf = document.createElement('script');
	wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
	wf.type = 'text/javascript';
	wf.async = 'true';
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(wf, s);
})();
</script>


		<base target="_top" href="http://multi-frame.dokku.hypothes.is/app/">
		<link rel="service" type="application/annotatorsvc+json" href="http://multi-frame.dokku.hypothes.is/api/">

	</head>
	<body ng-app="h" ng-controller="AppController" class="ng-cloak">

		<!-- Toolbar -->
		<div class="topbar" class="form-inline" ng-class="frame.visible && 'shown'">

			<div class="tri" ng-click="frame.visible = !frame.visible" ng-init="cbStyle='hiddencontrolbar'" ng-mouseenter="cbStyle='controlbar'" ng-mouseleave="cbStyle='hiddencontrolbar'"></div>

			<div class="notification-counter" ng-click="frame.visible = !frame.visible" ng-show="new_updates>0 && new_updates<10">
				+{{ new_updates }}
			</div>
			<div class="notification-counter" ng-show="new_updates>9">
				&gt;9
			</div>

			<div class="inner" ng-switch="auth.persona">
				<a class="pull-right" href="" ng-click="sheet.collapsed = false;
										 sheet.tab = 'login';" ng-switch-when="null" ng-show="sheet.collapsed">Sign in</a>
				<div class="pull-right user-picker" ng-switch-default="" data-user-picker-model="auth.persona" data-user-picker-options="auth.personas">
				</div>
			</div>

			<!-- Searchbar -->
			<div class="search-container">
				<div ng-show="show_search" class="visual-search visual-container"></div>
				<div ng-hide="show_search" class="visual-container" ng-click="show_search=true">
					 <div id="search" class="magnify-glass VS-search">
						 <div class="VS-icon VS-icon-search"></div>
					 </div>
				</div>
			</div>

			<!-- Account and Authentication -->
			<div class="sheet collapsed" ng-class="sheet.collapsed && 'collapsed'" ng-init="sheet.collapsed = true">

				<span class="close" role="button" title="Close" ng-click="sheet.collapsed = true"></span>

				<div data-resettable="true" data-tab-reveal="['forgot','activate']" ng-model="sheet.tab" class="form-vertical tabbable">
					<div data-authentication="auth" ng-submit="submit(this[$parent.sheet.tab])">

			<!-- Login -->
			<form data-title="Sign in" data-value="login" class="tab-pane" name="login" novalidate="">

				<input type="text" name="username" value="" placeholder="Username" ng-model="model.username" ng-minlength="3" required="" autocapitalize="false">
				<span ng-show="login.username.$error.required" slow-validate="username">Please enter your username.</span>
				<span ng-show="login.username.$error.minlength" slow-validate="username">Usernames are at least 3 characters.</span>

				<input type="password" name="password" value="" placeholder="Password" ng-model="model.password" required="" autocapitalize="false" autocorrect="false">
				<span ng-show="login.password.$error.required" slow-validate="password">Please enter your password.</span>

				<input type="submit" name="login" value="Sign in" ng-disabled="!login.$valid">

			</form>
			<!-- / Login -->

			<!-- Register -->
			<form data-title="Create an account" data-value="register" class="tab-pane" name="register" novalidate="">

				<input type="text" name="username" value="" placeholder="Username" required="" autocapitalize="false" ng-model="model.username" ng-minlength="3" ng-maxlength="15" ng-pattern="/^[A-Za-z0-9._]+$/">
				<span ng-show="register.username.$error.required" slow-validate="username">Please choose a username.</span>
				<span ng-show="register.username.$error.minlength" slow-validate="username">Usernames must be at least 3 characters.</span>
				<span ng-show="register.username.$error.maxlength" slow-validate="username">Usernames must be 15 characters at most.</span>
				<span ng-show="register.username.$error.pattern" slow-validate="username">Only letters, numbers, underscore and dot are allowed. </span>

				<input type="email" name="email" value="" placeholder="Email" ng-model="model.email" required="" autocapitalize="false">
				<span ng-show="register.email.$error.email" slow-validate="email">Is this an email address?</span>
				<span ng-show="register.email.$error.required" slow-validate="email">Please enter your email.</span>

				<input type="password" name="password" value="" placeholder="Password" required="" autocapitalize="false" autocorrect="false" ng-minlength="2" ng-model="model.password">
				<span ng-show="register.password.$error.required" slow-validate="password">Please enter a password.</span>
				<span ng-show="register.password.$error.minlength" slow-validate="password">Passwords must be at least 2 characters.</span>

				<input type="submit" name="sign_up" value="Sign up" ng-disabled="!register.$valid">

			</form>
			<!-- / Register -->

			<!-- Claim a username -->
			<form data-title="Claim a username" data-value="claim" class="tab-pane" name="claim" novalidate="">

							<p>To activate your reserved username, please enter the email address you used.</p>
				<!--Get Validation Code-->      
				<input type="email" name="email" value="" placeholder="Email" required="" autocapitalize="false" ng-model="model.email">
				<span ng-show="forgot.email.$error.email" slow-validate="email">Is this an email address?</span>
				<span ng-show="forgot.email.$error.required" slow-validate="email">Please enter your email.</span>

				<input type="submit" name="forgot" value="Send activation" ng-disabled="!claim.$valid">

			</form>
			<!-- / Claim a username -->

			<!-- Activate -->
			<form data-title="Activate" data-value="activate" class="tab-pane" name="activate" novalidate="">

					 <p>Find the validation code in the confirmation email you recieved. Enter it below, along with the password you would like to use for your account.</p>

				<input type="text" name="code" value="" placeholder="Activation Code" required="" autocorrect="false" autocapitalize="false" ng-model="model.code">
				<span ng-show="activate.code.$error.required" slow-validate="code">Please enter your validation code.</span>

				<input type="password" name="password" value="" placeholder="Password" required="" autocapitalize="false" autocorrect="false" ng-minlength="2" ng-model="model.password">
				<span ng-show="activate.password.$error.required" slow-validate="password">Please choose a password.</span>
				<span ng-show="activate.password.$error.minlength" slow-validate="password">Passwords must be at least 2 characters.</span>

				<input type="submit" name="activate" value="Sign in" ng-disabled="!activate.$valid">

			</form>
			<!--/Claim a username-->

			<!-- Forgot -->
			<form data-title="Forgot" data-value="forgot" class="tab-pane" name="forgot" novalidate="">

				<p>Forgotten password? Enter your email below to send a recovery email.</p>

				<input type="email" name="email" value="" placeholder="Email" required="" autocapitalize="false" ng-model="model.email">
				<span ng-show="forgot.email.$error.email" slow-validate="email">Is this an email address?</span>
				<span ng-show="forgot.email.$error.required" slow-validate="email">Please enter your email.</span>

				<input type="submit" name="forgot" value="Send recovery email" ng-disabled="!forgot.$valid">

			</form>
			<!-- / Forgot -->


					</div>
					<footer ng-show="sheet.tab == 'login' || sheet.tab == 'register'">
						<ul>
							<li>
								<a href="" ng-click="sheet.tab = 'forgot'">Password help?</a>
							</li>
							<li>
								<a href="" ng-click="sheet.tab = 'activate'">I have an activation code.</a>
							</li>
						</ul>
					</footer>
				</div>
			</div>
			<!-- / Account and Authentication -->

		</div>
		<!-- / Toolbar -->

		<!-- Content -->
		<div id="wrapper">
			<!-- Angular view -->
			<div ng-view=""></div>
		</div>

		<!-- Bottombar -->
		<div class="bottombar" ng-class="frame.visible && 'shown'" ng-show="notifications.length">
			<ul class="sliding-panels">
				<li class="stream-list notif-list" ng-repeat="notif in notifications">
					 <div class="paper thread top-padding">
						 <div class="notification bottom-padding" name="notification" ng-model="$parent.notif">
						 </div>
					 </div>
				</li>
			</ul>
		</div>
		<!-- / Content -->

		<!-- Templates -->
		<script type="text/ng-template" id="annotation.html">
			<form name="form">
	<div class="magicontrols pull-right" ng-hide="editing">
		<!-- Timestamp -->
		<span class="small"
					>{{model.$viewValue.updated | fuzzyTime | date:'mediumDate'}}</span>

		<!-- More actions -->
		<div class="dropdown small show">
			<span class="dropdown-toggle" role="button" title="More actions"></span>
			<ul class="dropdown-menu pull-right" role="menu">
				<li class="reply-icon"
						ng-click="reply()">Reply</li>
				<li class="clipboard-icon"
						ng-show="authorize('update')"
						ng-click="edit()">Edit</li>
				<li class="x-icon"
						ng-show="authorize('delete')"
						ng-click="delete()">Delete…</li>
				<li class="flag-icon"
						ng-hide="authorize('delete')"
						ng-click="flag()">Flag…</li>
			</ul>
		</div>
	</div>

	<!-- Privacy -->
	<privacy ng-model="$parent.model.$modelValue.permissions"
					 ng-show="editing && action != 'delete'"
					 class="dropdown privacy pull-right"
					 name="privacy" />

	<!-- Deletion notice -->
	<span ng-show="!editing && model.$viewValue.deleted"
				>Annotation deleted.</span>

	<!-- Preface -->
	<header ng-switch="editing && action">
		<strong ng-switch-when="delete">You may provide an explanation here.</strong>
		<!-- User -->
		<strong ng-switch-default class="indicators">
			<username ng-model="model.$modelValue.user"></username>
			<span class="small vis-icon"
						ng-show="form.privacy.$viewValue != 'Public'"></span>
			<span class="small highlight-icon"
						ng-hide="model.$viewValue.text || editing || model.$viewValue.deleted || model.$viewValue.tags.length"></span>
			<span class="small comment-icon"
						ng-hide="model.$viewValue.target.length || model.$viewValue.references"></span>
		</strong>
	</header>

	<!-- Prompt -->
	<!-- TODO: replace with placeholder on markdown elements? -->
	<div ng-show="model.$viewValue.deleted && !editing">
		<ng-switch on="model.$viewValue.text.length">
			<div ng-switch-when="0">(no reason given)</div>
			<div ng-switch-default>Reason:</div>
		</ng-switch>
	</div>

	<!-- Body -->
	<div ng-show="mode=='search' && !editing">
		<markdown ng-model="$parent.model.$modelValue.highlightText"
							ng-readonly="!$parent.editing"
							class="body"
							name="text" />
	</div>
	<div ng-hide="mode=='search' && !editing">
		<markdown ng-model="$parent.model.$modelValue.text"
							ng-readonly="!$parent.editing"
							class="body"
							name="text" />
	</div>

	<!-- Tip about Markdown -->
	<span ng-hide="!editing" class="tip"><a href="https://en.wikipedia.org/wiki/Markdown" target="_blank">Markdown</a> is supported.</span>

	<!-- Tags -->
	<ul ng-readonly="!editing"
			ng-model="model.$modelValue.tags"
			name="tags"
			class="tags"
			placeholder="Add tags"
	/>

	<!-- Bottom controls -->
	<div class="buttonbar" ng-show="editing">
		<div class="annotator-controls">
			<ng-switch on="action">
				<button ng-switch-when="edit"
								ng-click="save()"
								ng-disabled="!form.$valid"
								class="btn check-icon">Save</button>
				<button ng-switch-when="delete"
								ng-click="save()"
								ng-disabled="!form.$valid"
								class="btn check-icon">Delete</button>
				<button ng-switch-default
								ng-click="save()"
								ng-disabled="!form.$valid"
								class="btn check-icon">Save</button>
			</ng-switch>
			<span role="button" ng-click="cancel()" class="x-icon">Cancel</span>
		</div>
	</div>

	<div data-ng-bind-html="model.$viewValue.body"
			 data-ng-hide="editing"
			 class="body" />

	<!-- Editing preview -->
	<div ng-show="previewText" class="preview">
		<h4>Preview</h4>
		<div ng-bind-html="previewText" class="body" />
	</div>

	<!-- Share dialog -->
	<div class="share-dialog" data-ng-show="!editing">
		<div class="icon-input">
			<div class="go-icon">
	<a class="launch-icon show" href="{{shared_link}}" target="_blank"></a>
			</div>
			<div class="share-div">
				<input class="share-text" type="text" ng-model="shared_link" readonly ng-blur="toggle()" />
			</div>
		</div>
	</div>

	<!-- Bottom control strip -->
	<div class="magicontrols small" ng-hide="editing">
		<span class="reply-count"
					ng-pluralize=""
					ng-show="thread.children.length && replies!='false'"
					count="thread.flattenChildren().length"
					when="{one: '1 reply', other: '{} replies'}" />
		<a class="reply-icon show" href="" title="Reply" ng-click="reply()">Reply</a>
		<!-- <span class="fave-icon" title="Favorite"
					ng-click="favorite()" /> -->
		<a class="share-icon show" href="" title="Share" ng-click="share($event)">Share</a>
		<a class="clipboard-icon show" href="" title="Edit" ng-show="authorize('update')" ng-click="edit()">Edit</a>
		<a class="x-icon show" href="" title="Delete" ng-show="authorize('delete')" ng-click="delete()">Delete</a>
		<a class="flag-icon show" href="" title="flag" ng-hide="authorize('delete')" ng-click="flag()">Flag</a>

	</div>
</form>

		</script>
		<script type="text/ng-template" id="editor.html">
			<ul class="sliding-panels">
	<li class="annotator-outer annotator-editor">
		<div class="paper excerpt"
				 ng-repeat="target in annotation.target">
			<blockquote ng-bind="target.quote" ng-hide="diff" />
			<blockquote ng-bind-html-unsafe="target.diffHTML" ng-show="diff" />
			<div class="small pull-right" ng-show="target.diffHTML">
				<input type="checkbox" ng-model="diff">Show differences</input>
			</div>
		</div>
		<div ng-model="$parent.annotation" class="paper annotation" />
	</li>
</ul>

		</script>
		<script type="text/ng-template" id="markdown.html">
			<textarea ng-hide="readonly"
					ng-required="required" />
<div ng-bind-html="rendered" ng-show="readonly" />

		</script>
		<script type="text/ng-template" id="privacy.html">
			<div class="dropdown">
	<span name="privacy"
				role="button"
				class="dropdown-toggle"
				ng-model="model.$viewValue"
				data-toggle="dropdown">{{model.$viewValue}}</span>
	<ul class="dropdown-menu" role="menu">
		<li ng-repeat="p in levels">
			<a href="" ng-click="model.$setViewValue(p)">{{p}}</a>
		</li>
	</ul>
</div>

		</script>
		<script type="text/ng-template" id="userPicker.html">
			<form action=""
			method="POST"
			enctype="multipart/form-data"
			accept-charset="utf-8">
	<div class="dropdown" ng-show="model">
		<span role="button"
					class="dropdown-toggle"
					data-toggle="dropdown"
					>{{model.username}}<span class="provider"
																	 >/{{model.provider}}</span></span>
		<ul class="dropdown-menu pull-right"
				role="menu">
			<li ng-repeat="option in options"
					ng-click="model = options[$index]"
					>{{option.username}}/{{option.provider}}</li>
			<li ng-click="model = null">Sign out</li>
		</ul>
	</div>
</form>

		</script>
		<script type="text/ng-template" id="viewer.html">
			<ul class="sliding-panels">
	<li>
		<ul>
			<li ng-mouseenter="focus(annotation)"
					ng-mouseleave="focus()"
					ng-repeat="annotation in annotations"
					class="stream-list">

				<!-- Thread view -->
				<div class="paper thread"
						 data-recursive=""
						 ng-class="collapsed && 'collapsed summary' || ''"
						 ng-click="toggleCollapsed($event)"
						 ng-init="collapsed = true"
						 >
					<!-- Excerpts -->
					<div class="excerpt"
							 ng-repeat="target in annotation.target"
							 ng-hide="collapsed">
						<blockquote ng-bind="target.quote" ng-hide="diff" />
						<blockquote ng-bind-html-unsafe="target.diffHTML" ng-show="diff" />
						<div class="small pull-right" ng-show="target.diffHTML">
							<input type="checkbox" ng-model="diff">Show differences</input>
						</div>
					</div>

					<!-- Annotation -->
					<div class="annotation"
							 name="annotation"
							 ng-model="$parent.annotation" />

					<!-- Replies -->
					<ul>
						<li class="thread"
								ng-class="collapsed && 'collapsed' || ''"
								ng-click="toggleCollapsed($event)"
								ng-repeat="annotation in replies(annotation) | orderBy:sortThread:true"
								ng-transclude>
							<a href="" class="threadexp"
								 title="{{collapsed && 'Expand' || 'Collapse'}}"
								 ng-click="toggleCollapsed($event)"
								 />
						</li>
					</ul>
				</div>
			</li>
		</ul>
	</li>
</ul>

		</script>
		<script type="text/ng-template" id="page_search.html">
			<ul class="sliding-panels">
	<!-- Search -->
	<li>
		<ul>
			<li ng-repeat="thread in threads"
					ng-mouseenter="focus(thread.message)"
					ng-mouseleave="focus()"
					class="stream-list summary">
				<!-- Thread view -->
				<div data-recursive="" class="paper thread"
						 ng-click="toggleCollapsed($event)"
						 ng-init="collapsed = ann_info.show_quote[thread.message.id]">
					<!-- Annotation -->

						<!-- Excerpts -->
						<div class="excerpt"
								 ng-repeat="target in thread.message.target"
								 ng-show="collapsed">
							<blockquote ng-bind-html-unsafe="target.highlightQuote" ng-hide="diff" />
							<blockquote ng-bind-html-unsafe="target.diffHTML" ng-show="diff" />
							<div class="small pull-right" ng-show="target.diffHTML">
								<input type="checkbox" ng-model="diff">Show differences</input>
							</div>
						</div>

						<!--"Load more replies" label for the top -->
						<a href=""
							 class="load-more"
							 ng-show="ann_info.more_top[thread.message.id] && ann_info.more_top_num[thread.message.id] <2"
							 ng-click="clickMoreTop(thread.message.id)">
								load 1 more reply
						</a>

						<a href=""
							 class="load-more"
							 ng-show="ann_info.more_top[thread.message.id] && ann_info.more_top_num[thread.message.id] >1"
							 ng-click="clickMoreTop(thread.message.id)">
								load {{ann_info.more_top_num[thread.message.id]}} more replies
						</a>


						<div class="detail annotation"
								 name="annotation"
								 ng-model="$parent.thread.message"
								 mode="search"
								 replies="{{!ann_info.more_bottom[thread.message.id]}}"
								 ng-show="$parent.ann_info.shown[thread.message.id] == null || $parent.ann_info.shown[thread.message.id]"/>

						<!--"Load more replies" label for the bottom -->
						<a href=""
							 class="load-more"
							 ng-show="ann_info.more_bottom[thread.message.id] && ann_info.more_bottom_num[thread.message.id]<2"
							 ng-click="clickMoreBottom(thread.message.id)">
							 load 1 more reply
						</a>

						<a href=""
							 class="load-more"
							 ng-show="ann_info.more_bottom[thread.message.id] && ann_info.more_bottom_num[thread.message.id] >1"
							 ng-click="clickMoreBottom(thread.message.id)">
							 load {{ann_info.more_bottom_num[thread.message.id]}} more replies
						</a>

					<!-- Replies -->
					<ul>
						<li class="thread"
								ng-hide="collapsed"
								ng-class="collapsed && 'collapsed' || ''"
								ng-repeat="thread in thread.children | orderBy:sortThread:true"
								ng-transclude>
							 <a href=""
									class="threadexp"
									title="{{collapsed && 'Expand' || 'Collapse'}}"
									ng-click="collapsed = !collapsed"
									ng-show="ann_info.shown[thread.message.id] && !ann_info.more_top[thread.message.id]"
							 />
						</li>
					</ul>
				</div>
			</li>
		</ul>
	</li>
</ul>
		</script>
		<script type="text/ng-template" id="notification.html">
			<div class="pull-right">
		<a href title="Close" class="x-icon" ng-click=model.$viewValue.close()></a>
</div>
<div ng-click="model.$viewValue.callback()"
		 class="pull-left notif-text">
 {{model.$viewValue.text}}
</div>

		</script>
	</body>
</html>